<?php

return [
    /*
    |--------------------------------------------------------------------------
    | 接続管理設定
    |--------------------------------------------------------------------------
    |
    | 接続管理システムで使用される各種設定値を定義します。
    | これらの値は環境変数で上書き可能です。
    |
    */

    /*
    |--------------------------------------------------------------------------
    | 猶予期間設定
    |--------------------------------------------------------------------------
    |
    | 各コンテキストタイプでの切断後の猶予期間（秒）を設定します。
    |
    */
    'grace_periods' => [
        // ルーム接続の猶予期間
        'room' => env('ROOM_GRACE_PERIOD', 840),

        // ディベート接続の猶予期間
        'debate' => env('DEBATE_GRACE_PERIOD', 300),
    ],



    /*
    |--------------------------------------------------------------------------
    | ログ設定
    |--------------------------------------------------------------------------
    |
    | 接続管理システムのログ出力に関する設定です。
    |
    */
    'logging' => [
        // デバッグログの有効化
        'debug_enabled' => env('CONNECTION_DEBUG_ENABLED', false),

        // パフォーマンスログの有効化
        'performance_logging' => env('CONNECTION_PERF_LOG', true),

        // 詳細エラーログの有効化
        'detailed_error_logging' => env('CONNECTION_DETAILED_ERROR_LOG', true),

        // ハートビートログの有効化
        'heartbeat_logging' => env('CONNECTION_HEARTBEAT_LOG', false),
    ],

    /*
    |--------------------------------------------------------------------------
    | パフォーマンス設定
    |--------------------------------------------------------------------------
    |
    | システムパフォーマンスに関する設定です。
    |
    */
    'performance' => [
        // キャッシュの有効化
        'enable_caching' => env('CONNECTION_CACHE_ENABLED', true),

        // キャッシュTTL（秒）
        'cache_ttl' => env('CONNECTION_CACHE_TTL', 300),

        // バッチ処理サイズ
        'batch_size' => env('CONNECTION_BATCH_SIZE', 100),
    ],

    /*
    |--------------------------------------------------------------------------
    | 重要操作定義
    |--------------------------------------------------------------------------
    |
    | アラート送信対象となる重要な操作の定義
    |
    */
    'critical_operations' => [
        'disconnection',
        'debate_disconnection',
        'massive_disconnection',
        'database_error',
        'configuration_error',
    ],

    /*
    |--------------------------------------------------------------------------
    | バリデーション設定
    |--------------------------------------------------------------------------
    |
    | 設定値のバリデーションルール
    |
    */
    'validation' => [
        'grace_periods' => [
            'min' => 30,  // 最小30秒
            'max' => 1800, // 最大30分
        ],
    ],
];
