# DebateMatch 設計ドキュメント

## 概要

このディレクトリには、DebateMatchアプリケーションの技術設計に関する包括的なドキュメントが含まれています。各ドキュメントは、システムの異なる側面を詳細に説明し、理解しやすいようにMermaidダイアグラムを多用しています。

## ドキュメント一覧

### 1. [システム全体アーキテクチャ](./01_system_architecture.md)

DebateMatchの3層アーキテクチャ、各コンポーネントの役割、技術スタックの全体像を俯瞰的に説明します。Laravel 11、Livewire 3、Pusher、Redis、MySQLなどの主要技術の統合方法を図解しています。

### 2. [ディベート状態遷移図](./02_debate_state_transition.md)

ルームとディベートの状態管理について、各状態の定義と許可される状態遷移を詳細に記述します。早期終了フローや異常時の処理についても網羅しています。

### 3. [キューシステム・ジョブフロー図](./03_queue_job_flow.md)

Laravel Horizonを使用した非同期処理システムの設計。各ジョブの責任範囲、実行フロー、エラーハンドリング、リトライ戦略について解説します。

### 4. [AIインテグレーションアーキテクチャ](./04_ai_integration_architecture.md)

OpenRouter APIを通じたAI機能の統合方法。プロンプトエンジニアリング、エラーハンドリング、フォールバック戦略について詳述します。

### 5. [認証・認可設計図](./05_authentication_authorization.md)

Laravel BreezeとSocialiteを基盤とした認証システム。通常認証、ソーシャル認証、ゲストユーザー機能、権限管理の仕組みを解説します。

### 6. [リアルタイム通信設計](./06_realtime_communication.md)

Pusher WebSocketsとLaravel Echoによるリアルタイム通信の実装。チャンネル設計、イベントブロードキャスト、クライアント側の実装パターンについて説明します。

### 7. [データベース設計詳細](./07_database_design.md)

MySQLデータベースの論理設計と物理設計。ER図、テーブル定義、インデックス戦略、パフォーマンス最適化について詳述します。

### 8. [インフラ構成図](./08_infrastructure.md)

本番環境のAWSインフラストラクチャ全体像。EC2, RDS, VPC, セキュリティグループなどの主要コンポーネントと、それらの連携を解説します。
